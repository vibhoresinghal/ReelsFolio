<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReelsFolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body,
        html {
            height: 100%;
            overflow: hidden;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        /* Background layer that transitions colors */
        .bg-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: background-color 0.6s ease-in-out;
            z-index: -1;
        }

        /* The scroll container */
        .video-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .video-container::-webkit-scrollbar {
            display: none;
        }

        /* Individual video sections */
        .video-section {
            height: 100vh;
            width: 100vw;
            scroll-snap-align: center;
            scroll-snap-stop: always;
            /* Prevent skipping sections */
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* Hero Landing Section - Profile Header (scrolls with page) */
        .hero-section {
            width: 100vw;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: clamp(30px, 5vh, 50px) 20px clamp(20px, 3vh, 30px);
            position: relative;
            background: linear-gradient(180deg, #2d1b4e 0%, #1a0f2e 100%);
            /* No scroll-snap - this scrolls naturally */
        }

        /* Profile Header */
        .profile-header {
            display: flex;
            align-items: center;
            gap: clamp(16px, 3vw, 32px);
            margin-bottom: clamp(16px, 3vh, 24px);
        }

        .profile-photo {
            width: clamp(80px, 12vw, 120px);
            height: clamp(80px, 12vw, 120px);
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #d4a855;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .profile-info {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .profile-name {
            font-size: clamp(22px, 4vw, 36px);
            font-weight: 700;
            color: white;
            margin: 0;
            line-height: 1.1;
        }

        .profile-title {
            font-size: clamp(12px, 1.5vw, 15px);
            color: rgba(255, 255, 255, 0.7);
            margin: 0 0 12px 0;
        }

        .profile-actions {
            display: flex;
            gap: 12px;
        }

        .profile-btn {
            padding: 10px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
        }

        .profile-btn.primary {
            background: #7c3aed;
            color: white;
            border: none;
        }

        .profile-btn.primary:hover {
            background: #6d28d9;
            transform: translateY(-2px);
        }

        .profile-btn.secondary {
            background: transparent;
            color: white;
            border: 2px solid #7c3aed;
        }

        .profile-btn.secondary:hover {
            background: rgba(124, 58, 237, 0.2);
            transform: translateY(-2px);
        }

        /* Stats */
        .profile-stats {
            display: flex;
            gap: clamp(32px, 6vw, 64px);
            margin-top: 16px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: clamp(20px, 3vw, 28px);
            font-weight: 700;
            color: white;
            display: block;
        }

        .stat-label {
            font-size: clamp(11px, 1.5vw, 13px);
            color: rgba(255, 255, 255, 0.6);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Skills/Icons Row */
        .profile-skills {
            display: flex;
            gap: clamp(12px, 2vw, 18px);
            /* Reduced top margin further to move circles up, INCREASED bottom margin MAX for more gap */
            margin: clamp(0px, 0.5vh, 4px) 0 clamp(80px, 12vh, 120px) 0;
        }

        .skill-circle {
            width: clamp(36px, 4.5vw, 48px);
            height: clamp(36px, 4.5vw, 48px);
            border-radius: 50%;
            background: rgba(124, 58, 237, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .skill-circle:hover {
            background: rgba(124, 58, 237, 0.6);
            transform: scale(1.1);
        }

        .skill-circle svg {
            width: 50%;
            height: 50%;
            color: white;
        }

        @media (max-width: 768px) {
            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .profile-info {
                align-items: center;
            }
        }

        /* Video frame container - 9:16 aspect ratio (phone-like) */
        .video-frame {
            position: relative;
            /* 
             * Width calculation that maintains 9:16 ratio within viewport:
             * - min 280px on very small screens
             * - max 380px on large screens  
             * - 50vw for horizontal responsiveness
             * - calc(80vh * 9 / 16) ensures height won't exceed 80% of viewport
             */
            width: min(clamp(280px, 50vw, 380px), calc(80vh * 9 / 16));
            aspect-ratio: 9/16;
            /* Responsive border radius */
            border-radius: clamp(16px, 3vw, 24px);
            overflow: hidden;
            /* Responsive shadow */
            box-shadow: 0 clamp(15px, 3vh, 25px) clamp(40px, 8vh, 80px) rgba(0, 0, 0, 0.4);
            opacity: 0.2;
            transform: scale(0.9);
        }

        /* Landscape modification */
        /* Landscape modification */
        /* Landscape modification */
        .video-section.landscape-mode {
            justify-content: center;
            /* Center horizontally */
        }

        .video-section.landscape-mode .video-frame {
            aspect-ratio: 16/9;
            /* Constrain height to leave vertical space for text below */
            width: min(85vw, calc(65vh * 16 / 9));
            border-radius: 12px;
            margin-right: 0;
            margin-bottom: 5vh;
            /* Push up slightly to give even more room at bottom */
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        /* Landscape Mode Text Layout - Bottom Left (No overlap) */
        /* Landscape Mode Text Layout - Centered Below */
        .video-section.landscape-mode .content-info-left {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: clamp(70px, 12vh, 100px);
            top: auto;
            width: 90vw;
            max-width: 800px;
            text-align: center;
            text-shadow: none;
        }

        .video-section.landscape-mode .content-desc {
            color: rgba(255, 255, 255, 0.9);
            font-size: clamp(14px, 1.5vw, 16px);
            font-weight: 500;
            font-style: italic;
            margin: 0;
            display: inline-block;
        }

        /* Add quotes via CSS */
        .video-section.landscape-mode .content-desc::before {
            content: "“ ";
        }

        .video-section.landscape-mode .content-desc::after {
            content: " ”";
        }

        /* Hide title in landscape mode */
        .video-section.landscape-mode .content-title {
            display: none;
        }

        .video-section.active .video-frame {
            opacity: 1;
            transform: scale(1);
        }

        /* R2/HTML5 video - scale to fill vertical 9:16 frame */
        .video-frame video {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
        }

        /* R2 video play button overlay - matches control bar style */
        .video-frame .play-overlay-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            color: white;
        }

        /* Only show button when paused */
        .video-frame .play-overlay-btn.paused {
            opacity: 1;
            pointer-events: auto;
        }

        .video-frame .play-overlay-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%) scale(1.05);
        }

        .play-overlay-btn svg {
            width: 28px;
            height: 28px;
            margin-left: 3px;
        }



        /* Decorative stickers */
        .sticker {
            position: absolute;
            opacity: 0;
            transform: scale(0.5);
            transition: opacity 0.5s ease-in-out 0.1s, transform 0.5s ease-in-out 0.1s;
            pointer-events: none;
        }

        .video-section.active .sticker {
            opacity: 1;
            transform: scale(1);
        }

        /* Heart sticker - responsive positioning */
        .sticker-heart {
            top: 15%;
            right: calc(50% - min(280px, 25vw));
            font-size: clamp(32px, 5vw, 48px);
        }

        /* Star sticker - responsive positioning */
        .sticker-star {
            top: 20%;
            left: calc(50% - min(300px, 27vw));
            width: clamp(50px, 7vw, 80px);
            height: clamp(50px, 7vw, 80px);
        }

        /* Plus sticker - responsive positioning */
        .sticker-plus {
            bottom: 35%;
            left: calc(50% - min(250px, 22vw));
            font-size: clamp(28px, 4vw, 40px);
            color: #f0a0d0;
        }

        /* Sparkle sticker - responsive positioning */
        .sticker-sparkle {
            bottom: 40%;
            right: calc(50% - min(280px, 25vw));
            font-size: clamp(22px, 3.5vw, 32px);
        }

        /* Squiggle sticker - responsive positioning */
        .sticker-squiggle {
            bottom: 15%;
            left: calc(50% - min(280px, 25vw));
            width: clamp(40px, 5vw, 60px);
        }

        /* Info bars on the sides - responsive positioning */
        .info-bar {
            position: absolute;
            display: flex;
            flex-direction: column;
            gap: clamp(8px, 1.5vw, 12px);
            opacity: 0;
            transform: translateX(-20px);
            transition: opacity 0.5s ease-in-out 0.15s, transform 0.5s ease-in-out 0.15s;
        }

        .info-bar.right {
            right: calc(50% - min(420px, 35vw));
            top: 50%;
            transform: translateY(-50%) translateX(20px);
        }

        .video-section.active .info-bar {
            opacity: 1;
            transform: translateX(0);
        }

        .video-section.active .info-bar.right {
            transform: translateY(-50%) translateX(0);
        }

        .info-bar.left {
            left: calc(50% - min(420px, 35vw));
            top: 40%;
        }

        .info-line {
            height: clamp(8px, 1.2vw, 12px);
            background: rgba(255, 255, 255, 0.25);
            border-radius: clamp(4px, 0.6vw, 6px);
        }

        .info-line.short {
            width: clamp(40px, 6vw, 60px);
        }

        .info-line.medium {
            width: clamp(65px, 9vw, 100px);
        }

        .info-line.long {
            width: clamp(90px, 12vw, 140px);
        }

        .info-dot {
            width: clamp(20px, 2.5vw, 28px);
            height: clamp(20px, 2.5vw, 28px);
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }

        .info-group {
            display: flex;
            align-items: center;
            gap: clamp(8px, 1.2vw, 12px);
        }

        /* NEW: Left Info Section (Title + Desc) */
        .content-info-left {
            position: absolute;
            left: calc(50% - min(650px, 48vw));
            top: 50%;
            transform: translateY(-50%) translateX(-50px);
            width: clamp(250px, 25vw, 350px);
            opacity: 0;
            transition: all 0.6s ease-out 0.2s;
            text-align: left;
            pointer-events: none;
            /* Let clicks pass through if needed */
            z-index: 10;
        }

        .video-section.active .content-info-left {
            opacity: 1;
            transform: translateY(-50%) translateX(0);
        }

        /* Based on design: Description first, then Title */
        .content-desc {
            color: rgba(255, 255, 255, 0.8);
            font-size: clamp(12px, 1.2vw, 14px);
            line-height: 1.5;
            margin-bottom: clamp(12px, 2vh, 20px);
            font-weight: 400;
        }

        .content-title {
            color: white;
            font-size: clamp(36px, 4.5vw, 56px);
            font-weight: 800;
            letter-spacing: -0.02em;
            line-height: 1.1;
        }

        /* Project Link Button */
        .content-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(0, 0, 0, 0.35);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            padding: 14px 22px;
            border-radius: 14px;
            color: rgba(255, 255, 255, 0.85);
            font-size: clamp(14px, 1.5vw, 16px);
            font-weight: 500;
            text-decoration: none;
            margin-top: clamp(16px, 3vh, 24px);
            transition: all 0.3s ease;
            cursor: pointer;
            pointer-events: auto;
        }

        .content-link:hover {
            background: rgba(0, 0, 0, 0.5);
            border-color: rgba(255, 255, 255, 0.25);
            color: white;
            transform: translateY(-2px);
        }

        .content-link svg {
            width: 18px;
            height: 18px;
            opacity: 0.75;
        }

        .content-link:hover svg {
            opacity: 1;
        }

        /* NEW: Right Info Section (Comments) */
        .content-info-right {
            position: absolute;
            right: calc(50% - min(650px, 48vw));
            top: 40%;
            /* Positioned slightly higher to match design */
            transform: translateY(-50%) translateX(50px);
            display: flex;
            flex-direction: column;
            gap: 20px;
            opacity: 0;
            transition: all 0.6s ease-out 0.4s;
            z-index: 10;
        }

        .video-section.active .content-info-right {
            opacity: 1;
            transform: translateY(-50%) translateX(0);
        }

        .comment-pill {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 12px 16px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 280px;
            color: white;
            font-size: 13px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            animation: float 6s ease-in-out infinite;
        }

        /* Stagger animation for multiple comments */
        .comment-pill:nth-child(2) {
            animation-delay: 1s;
        }

        .comment-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 16px;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        /* Hide new decorative info on small screens */
        @media (max-width: 1024px) {

            .content-info-left,
            .content-info-right {
                display: none;
            }
        }

        .toggle-btn {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.15);
            padding: clamp(6px, 1vw, 8px) clamp(12px, 1.5vw, 16px);
            border-radius: clamp(18px, 2.5vw, 25px);
            gap: clamp(8px, 1.2vw, 12px);
        }

        .toggle-btn .line {
            width: clamp(35px, 5vw, 50px);
            height: clamp(6px, 0.8vw, 8px);
            background: rgba(255, 255, 255, 0.4);
            border-radius: clamp(3px, 0.4vw, 4px);
        }

        .toggle-btn .circle {
            width: clamp(18px, 2.2vw, 24px);
            height: clamp(18px, 2.2vw, 24px);
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
        }

        /* Control bar container - responsive positioning */
        .control-bar {
            position: fixed;
            bottom: clamp(12px, 3vh, 20px);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: clamp(8px, 2vw, 12px);
            z-index: 1000;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            opacity: 1;
            visibility: visible;
        }

        .control-bar.hidden {
            opacity: 0;
            visibility: hidden;
        }

        /* Unmute button - responsive sizing */
        .unmute-btn {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: clamp(10px, 2vh, 14px) clamp(18px, 4vw, 28px);
            border-radius: 50px;
            font-size: clamp(12px, 2vw, 15px);
            font-family: inherit;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: clamp(6px, 1.5vw, 10px);
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .unmute-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .unmute-btn svg {
            width: clamp(16px, 3vw, 20px);
            height: clamp(16px, 3vw, 20px);
        }

        /* Play/Stop button - responsive circular button */
        .play-stop-btn {
            width: clamp(36px, 7vw, 44px);
            height: clamp(36px, 7vw, 44px);
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .play-stop-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .play-stop-btn svg {
            width: clamp(20px, 4vw, 24px);
            height: clamp(20px, 4vw, 24px);
        }

        /* Grid button at top - responsive sizing */
        .grid-btn {
            position: fixed;
            top: clamp(12px, 3vh, 20px);
            left: 50%;
            transform: translateX(-50%);
            width: clamp(40px, 8vw, 50px);
            height: clamp(40px, 8vw, 50px);
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: all 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            opacity: 1;
            visibility: visible;
        }

        .grid-btn.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .grid-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-50%) scale(1.1);
        }

        .grid-btn svg {
            width: clamp(18px, 4vw, 24px);
            height: clamp(18px, 4vw, 24px);
        }

        /* Grid Section - scrollable section before videos */
        .grid-section {
            min-height: 100vh;
            width: 100vw;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 30px;
            position: relative;
            background: linear-gradient(180deg, #2d1b4e 0%, #1a0f2e 100%);
        }

        /* Profile landing header (only in first tab's grid) */
        .profile-landing {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: clamp(10px, 2vh, 20px) 20px;
            width: 100%;
        }

        .grid-container {
            display: grid;
            scroll-snap-align: start;
            scroll-margin-top: 90px;
            /* Fixed height to prevent any internal scrolling */
            height: calc(100vh - 80px);
            max-height: calc(100vh - 80px);
            overflow: hidden;
            /* Fixed 5 columns - Tab 1 gets 5x2, Tabs 2-4 get 4 items in 1 row */
            grid-template-columns: repeat(5, auto);
            justify-content: center;
            align-content: center;
            justify-items: center;
            align-items: center;
            /* Consistent spacing across all tabs */
            gap: clamp(8px, 1.5vw, 12px);
            padding: clamp(8px, 2vw, 16px);
            max-width: 95vw;
            width: 100%;
            /* No internal scroll - fit everything in viewport */
            opacity: 0.2;
            transform: scale(0.9);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }

        .grid-section.active .grid-container {
            opacity: 1;
            transform: scale(1);
        }

        .grid-item {
            /* Same 9:16 aspect ratio as the video frame */
            aspect-ratio: 9/16;
            /* Smaller max height to fit 2 rows within (100vh - 80px - gaps - padding) */
            max-height: calc((100vh - 180px) / 2.2);
            width: auto;
            border-radius: clamp(8px, 1.5vw, 12px);
            overflow: hidden;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            /* Prevent selection highlight when dragging */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .grid-item:hover {
            transform: scale(1.03);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .grid-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .grid-item .video-number {
            position: absolute;
            bottom: clamp(4px, 1vh, 8px);
            left: clamp(4px, 1vw, 8px);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: clamp(2px, 0.5vh, 4px) clamp(6px, 1vw, 10px);
            border-radius: clamp(10px, 2vw, 16px);
            font-size: clamp(10px, 1.5vw, 12px);
            font-weight: 500;
        }

        /* Tab Navigation - sticky on landing, becomes fixed at top when scrolling */
        .tab-nav {
            position: sticky;
            top: clamp(12px, 3vh, 20px);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: clamp(4px, 1vw, 8px);
            z-index: 1001;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: clamp(4px, 0.8vw, 6px);
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: opacity 0.3s ease, visibility 0.3s ease;
            width: fit-content;
            /* Match spacing to scroll-margin-top positioning in grid view */
            /* scroll-margin-top: 80px, tab top: ~20px, tab height: ~44px = 80-64 = 16px gap */
            margin: 0 auto 16px auto;
        }

        /* Logo Button - Separate circular VS initials button */
        .logo-btn {
            position: fixed;
            top: clamp(12px, 3vh, 20px);
            left: 50%;
            /* Position to the left of the tab bar - will be calculated with transform */
            transform: translateX(calc(-50% - clamp(175px, 21vw, 250px)));
            width: clamp(40px, 6vw, 50px);
            height: clamp(40px, 6vw, 50px);
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: inherit;
            font-size: clamp(13px, 2vw, 16px);
            font-weight: 600;
            color: rgba(255, 255, 255, 0.85);
            transition: all 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;
            z-index: 2001;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            opacity: 1;
            visibility: visible;
        }

        .logo-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(calc(-50% - clamp(175px, 21vw, 250px))) scale(1.05);
            color: white;
        }

        .logo-btn.active {
            background: rgba(124, 58, 237, 0.6);
            border-color: rgba(124, 58, 237, 0.8);
            color: white;
        }

        /* Global tabs - fixed at top by default, can animate to landing position */
        .tab-nav.global-tabs {
            position: fixed;
            left: 50%;
            /* Default: top position */
            top: clamp(12px, 3vh, 20px);
            transform: translateX(-50%);
            margin: 0;
            z-index: 2000;
            /* Snappier transition for opacity/visibility only - top handled by JS */
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        /* Landing position state - navbar moves down to between skills and grid */
        .tab-nav.global-tabs.landing-position {
            /* Position handled by JS for perfect sync with scroll */
            pointer-events: auto;
            /* Placeholder to prevent empty ruleset */
        }

        .tab-nav.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .tab-btn {
            padding: clamp(8px, 1.5vh, 12px) clamp(16px, 3vw, 24px);
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: clamp(12px, 2vw, 14px);
            font-weight: 500;
            font-family: inherit;
            cursor: pointer;
            border-radius: 50px;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .tab-btn:hover {
            color: rgba(255, 255, 255, 0.9);
            background: rgba(255, 255, 255, 0.1);
        }

        .tab-btn.active {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        /* Tab Content */
        .tabs-container {
            display: flex;
            width: 400vw;
            /* Will be updated dynamically */
            height: 100vh;
            transition: transform 0.5s ease-in-out;
        }

        .tab-content {
            flex: 0 0 100vw;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        /* Hide grid button when tabs are visible */
        .grid-btn {
            display: none;
        }

        @media (max-width: 900px) {

            .info-bar,
            .sticker {
                display: none;
            }
        }

        @media (max-height: 600px) {
            .grid-container {
                max-height: 80vh;
                overflow-y: auto;
            }
        }

        /* Main scroll container */
        .main-scroll-container {
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        .main-scroll-container::-webkit-scrollbar {
            display: none;
        }

        /* Tabs world container - full page */
        .tabs-world {
            height: 100vh;
            width: 100vw;
            position: relative;
            overflow: hidden;
        }

        /* ========== NEW LANDING SECTION STYLES ========== */

        /* Landing Section - Full screen video-like view */
        .landing-section {
            height: 100vh;
            width: 100vw;
            scroll-snap-align: center;
            scroll-snap-stop: always;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        /* Landing Profile Info - Left Side */
        .landing-profile-info {
            position: absolute;
            left: clamp(40px, 8vw, 120px);
            bottom: clamp(80px, 15vh, 150px);
            max-width: clamp(280px, 25vw, 400px);
            z-index: 10;
            text-align: left;
        }

        .landing-bio {
            color: rgba(255, 255, 255, 0.75);
            font-size: clamp(13px, 1.3vw, 16px);
            line-height: 1.5;
            margin-bottom: clamp(12px, 2vh, 20px);
            font-weight: 400;
        }

        .landing-name {
            color: white;
            font-size: clamp(32px, 4vw, 52px);
            font-weight: 800;
            letter-spacing: -0.02em;
            line-height: 1.1;
            margin: 0 0 clamp(12px, 2vh, 20px) 0;
        }

        .landing-locations {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .location-tag {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 8px 14px;
            border-radius: 20px;
            color: rgba(255, 255, 255, 0.9);
            font-size: clamp(12px, 1.2vw, 14px);
            font-weight: 500;
        }

        .location-tag svg {
            width: 14px;
            height: 14px;
            opacity: 0.8;
        }

        /* Landing Video Frame - Center */
        .landing-video-frame {
            position: relative;
            width: min(clamp(280px, 50vw, 380px), calc(80vh * 9 / 16));
            aspect-ratio: 9/16;
            border-radius: clamp(16px, 3vw, 24px);
            overflow: hidden;
            box-shadow: 0 clamp(15px, 3vh, 25px) clamp(40px, 8vh, 80px) rgba(0, 0, 0, 0.5);
            z-index: 5;
        }

        .landing-video-frame video,
        .landing-video-frame img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .landing-video-frame .video-time {
            position: absolute;
            top: 12px;
            left: 12px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            padding: 4px 8px;
            border-radius: 6px;
            color: white;
            font-size: 12px;
            font-weight: 500;
        }

        /* Landing video frame play overlay - same as video-frame */
        .landing-video-frame {
            cursor: pointer;
        }

        .landing-video-frame .play-overlay-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            opacity: 1;
            pointer-events: auto;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            color: white;
        }

        /* Hide button when playing */
        .landing-video-frame .play-overlay-btn.playing {
            opacity: 0;
            pointer-events: none;
        }

        .landing-video-frame .play-overlay-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%) scale(1.05);
        }

        /* Floating Items */
        .floating-item {
            position: absolute;
            cursor: pointer;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            z-index: 8;
        }

        .floating-item:hover {
            transform: scale(1.08) !important;
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.4);
            z-index: 15;
        }

        .floating-item.size-small {
            width: clamp(80px, 10vw, 120px);
            height: clamp(80px, 10vw, 120px);
        }

        .floating-item.size-medium {
            width: clamp(100px, 12vw, 150px);
            height: clamp(100px, 12vw, 150px);
        }

        .floating-item.size-large {
            width: clamp(120px, 14vw, 180px);
            height: clamp(120px, 14vw, 180px);
        }

        .floating-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Landing Decorative Stickers */
        .landing-sticker {
            position: absolute;
            pointer-events: none;
            z-index: 6;
            animation: float-sticker 4s ease-in-out infinite;
        }

        .landing-sticker.heart {
            color: #ff6b9d;
        }

        .landing-sticker.star {
            color: #5b8dd9;
        }

        .landing-sticker.plus {
            color: #d989b5;
        }

        .landing-sticker.sparkle {
            color: #ff8fb1;
        }

        @keyframes float-sticker {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-8px) rotate(3deg);
            }
        }

        /* Landing Bottom Toggle/Switch Element */
        .landing-toggle {
            position: absolute;
            bottom: clamp(80px, 12vh, 120px);
            right: clamp(40px, 8vw, 120px);
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 10px 16px;
            border-radius: 30px;
            z-index: 10;
        }

        .landing-toggle .toggle-line {
            width: 60px;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
        }

        .landing-toggle .toggle-circle {
            width: 24px;
            height: 24px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
        }

        /* Scroll Indicator */
        .landing-scroll-indicator {
            position: absolute;
            bottom: clamp(20px, 4vh, 40px);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 12px;
            animation: bounce 2s ease-in-out infinite;
            cursor: pointer;
            z-index: 10;
        }

        .landing-scroll-indicator svg {
            width: 24px;
            height: 24px;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateX(-50%) translateY(0);
            }

            50% {
                transform: translateX(-50%) translateY(8px);
            }
        }

        /* ========== FLOATING ITEM MODAL STYLES ========== */

        .floating-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .floating-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .floating-modal {
            background: white;
            border-radius: 24px;
            display: flex;
            max-width: 90vw;
            max-height: 85vh;
            overflow: hidden;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);
            transform: scale(0.9) translateY(20px);
            transition: transform 0.3s ease;
        }

        .floating-modal-overlay.active .floating-modal {
            transform: scale(1) translateY(0);
        }

        .floating-modal-image {
            flex: 0 0 auto;
            max-width: 55%;
            max-height: 85vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f5f5f5;
        }

        .floating-modal-image img {
            max-width: 100%;
            max-height: 85vh;
            object-fit: contain;
            border-radius: 16px 0 0 16px;
        }

        .floating-modal-content {
            flex: 1;
            padding: clamp(30px, 5vw, 50px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-width: 280px;
            max-width: 400px;
        }

        .floating-modal-title {
            color: #1a1a1a;
            font-size: clamp(24px, 3vw, 36px);
            font-weight: 700;
            margin: 0 0 16px 0;
            line-height: 1.2;
        }

        .floating-modal-description {
            color: #666;
            font-size: clamp(14px, 1.5vw, 16px);
            line-height: 1.6;
            margin: 0;
        }

        .floating-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .floating-modal-close:hover {
            background: white;
            transform: scale(1.1);
        }

        .floating-modal-close svg {
            width: 20px;
            height: 20px;
            color: #333;
        }

        /* Mobile responsive for modal */
        @media (max-width: 768px) {
            .floating-modal {
                flex-direction: column;
                max-width: 95vw;
            }

            .floating-modal-image {
                max-width: 100%;
                max-height: 50vh;
            }

            .floating-modal-image img {
                border-radius: 24px 24px 0 0;
            }

            .floating-modal-content {
                min-width: unset;
                max-width: unset;
            }

            .landing-profile-info {
                left: 20px;
                right: 20px;
                bottom: 100px;
                max-width: none;
            }

            .landing-toggle {
                display: none;
            }

            .floating-item {
                display: none;
            }
        }

        /* Hide floating items on smaller screens */
        @media (max-width: 1200px) {
            .floating-item.size-small {
                width: clamp(60px, 8vw, 90px);
                height: clamp(60px, 8vw, 90px);
            }

            .floating-item.size-medium {
                width: clamp(80px, 10vw, 120px);
                height: clamp(80px, 10vw, 120px);
            }
        }
    </style>
</head>

<body>
    <!-- Background that transitions with each video -->
    <div class="bg-layer" id="bgLayer"></div>

    <!-- Main Container -->
    <div class="main-scroll-container" id="mainScroll">
        <!-- Tabs World (Contains horizontal tabs + their vertical video scrollers) -->
        <div class="tabs-world" id="tabsWorld">
            <!-- Global Fixed Tabs (for video sections) -->
            <!-- VS Logo Button (separate from tabs) -->
            <button class="logo-btn active" id="logoBtn" onclick="goToLanding()" title="Go to Profile">VS</button>

            <!-- Global Fixed Tabs (for video sections) -->
            <nav class="tab-nav global-tabs" id="globalTabs"></nav>

            <!-- Horizontal Tabs Container -->
            <div class="tabs-container" id="tabsContainer"></div>
        </div>
    </div>

    <!-- Floating Item Modal -->
    <div class="floating-modal-overlay" id="floatingModal">
        <button class="floating-modal-close" onclick="closeFloatingModal()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path fill-rule="evenodd"
                    d="M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z"
                    clip-rule="evenodd" />
            </svg>
        </button>
        <div class="floating-modal">
            <div class="floating-modal-image">
                <img src="" alt="" id="floatingModalImage">
            </div>
            <div class="floating-modal-content">
                <h2 class="floating-modal-title" id="floatingModalTitle"></h2>
                <p class="floating-modal-description" id="floatingModalDescription"></p>
            </div>
        </div>
    </div>

    <!-- Grid Button at Top (hidden, replaced by tabs) -->
    <button class="grid-btn hidden" id="gridBtn" onclick="goToVideo(0)">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path fill-rule="evenodd"
                d="M3 6a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3V6zm9.75 0a3 3 0 013-3H21a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3V6zM3 15.75a3 3 0 013-3h2.25a3 3 0 013 3v2.25a3 3 0 01-3 3H6a3 3 0 01-3-3v-2.25zm9.75 0a3 3 0 013-3H21a3 3 0 013 3v2.25a3 3 0 01-3 3h-2.25a3 3 0 01-3-3v-2.25z"
                clip-rule="evenodd" />
        </svg>
    </button>

    <!-- Control Bar -->
    <div class="control-bar">
        <!-- Play/Stop Button -->
        <button class="play-stop-btn" id="playStopBtn" onclick="togglePlayStop()">
            <svg id="pauseIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path fill-rule="evenodd"
                    d="M6.75 5.25a.75.75 0 01.75-.75H9a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H7.5a.75.75 0 01-.75-.75V5.25zm7.5 0A.75.75 0 0115 4.5h1.5a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H15a.75.75 0 01-.75-.75V5.25z"
                    clip-rule="evenodd" />
            </svg>
            <svg id="playIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                style="display: none;">
                <path fill-rule="evenodd"
                    d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z"
                    clip-rule="evenodd" />
            </svg>
        </button>

        <!-- Sound Toggle Button -->
        <button class="unmute-btn" id="soundBtn" onclick="toggleSound()">
            <svg id="mutedIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path
                    d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318 0-2.402.933H2.03c-.01 0-.01.015-.01.033v6.088c0 .018 0 .033.01.033h.076c.084.933 1.261.933 2.402.933h1.932l4.5 4.5c.945.945 2.56.276 2.56-1.06V4.06zM17.78 9.22a.75.75 0 10-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 101.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 101.06-1.06L20.56 12l1.72-1.72a.75.75 0 10-1.06-1.06l-1.72 1.72-1.72-1.72z" />
            </svg>
            <svg id="unmutedIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                style="display: none;">
                <path
                    d="M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318 0-2.402.933H2.03c-.01 0-.01.015-.01.033v6.088c0 .018 0 .033.01.033h.076c.084.933 1.261.933 2.402.933h1.932l4.5 4.5c.945.945 2.56.276 2.56-1.06V4.06zM17.72 7.72a.75.75 0 111.06 1.06 3.5 3.5 0 010 6.44.75.75 0 11-1.06-1.06 2 2 0 000-4.38.75.75 0 000-1.06z" />
            </svg>
            <span id="soundBtnText">Unmute</span>
        </button>
    </div>

    <script>
        // State
        let videosData = null;
        let currentTab = 0;
        let isMuted = true;
        let isPlaying = true;
        let observer = null;
        let currentVideoId = null;
        let videosReady = {};
        let isScrolling = false;
        let userPaused = {}; // Track which videos were paused by the user


        // DOM Elements
        const bgLayer = document.getElementById('bgLayer');
        const tabsContainer = document.getElementById('tabsContainer');
        const globalTabs = document.getElementById('globalTabs');
        const gridBtn = document.getElementById('gridBtn');
        const controlBar = document.querySelector('.control-bar');

        // Helper: Scroll to Tab 0 grid view with consistent positioning
        // Uses direct scrollTo for precise control without any browser adjustments
        function scrollToTab0Grid(container, smooth = true) {
            const gridSection = document.querySelector('#tab-zeta .grid-section');
            const scrollContainer = container || document.querySelector('#tab-zeta .video-container');

            if (gridSection && scrollContainer) {
                // Disable scroll-snap to prevent any interference
                const originalSnap = scrollContainer.style.scrollSnapType;
                scrollContainer.style.scrollSnapType = 'none';

                // Also disable smooth scroll behavior from CSS if doing instant scroll
                const originalBehavior = scrollContainer.style.scrollBehavior;
                if (!smooth) {
                    scrollContainer.style.scrollBehavior = 'auto';
                }

                // Use the grid-section's offsetTop (relative to video-container)
                const targetScrollTop = gridSection.offsetTop;

                scrollContainer.scrollTo({
                    top: targetScrollTop,
                    behavior: smooth ? 'smooth' : 'auto'
                });

                // Re-enable scroll-snap and behavior after animation
                const delay = smooth ? 800 : 100;
                setTimeout(() => {
                    scrollContainer.style.scrollSnapType = originalSnap || '';
                    scrollContainer.style.scrollBehavior = originalBehavior || '';
                    if (!scrollContainer.style.scrollSnapType) {
                        scrollContainer.style.removeProperty('scroll-snap-type');
                    }
                    if (!scrollContainer.style.scrollBehavior) {
                        scrollContainer.style.removeProperty('scroll-behavior');
                    }
                }, delay);
            }
        }

        // Helper: Check if already at Tab 0 grid position
        function isAtTab0GridPosition(container) {
            const gridSection = document.querySelector('#tab-zeta .grid-section');
            if (!gridSection || !container) return false;
            // Check if grid section is visible near the top of viewport
            const gridRect = gridSection.getBoundingClientRect();
            // Grid should be near the top of the viewport (within 150px)
            return gridRect.top >= 0 && gridRect.top < 150;
        }

        // Fetch JSON and initialize
        async function initApp() {
            try {
                const response = await fetch('videos.json');
                videosData = await response.json();
                renderApp();
            } catch (error) {
                console.error('Failed to load videos:', error);
            }
        }

        // Render the entire app structure
        function renderApp() {
            if (!videosData || !videosData.tabs) return;

            const landing = videosData.landingSection || {};
            const floatingItems = landing.floatingItems || [];

            // 1. Generate Tabs Navigation HTML (shared - no logo button inside)
            const tabButtonsHTML = videosData.tabs.map((tab, index) =>
                `<button class="tab-btn" data-index="${index}" onclick="switchTab(${index})">${tab.label}</button>`
            ).join('');

            // Populate Global Fixed Tabs
            if (globalTabs) globalTabs.innerHTML = tabButtonsHTML;

            // Helper function to generate floating items HTML
            function generateFloatingItemsHTML(items) {
                return items.map(item => {
                    const posStyle = [];
                    if (item.position.top) posStyle.push(`top: ${item.position.top}`);
                    if (item.position.bottom) posStyle.push(`bottom: ${item.position.bottom}`);
                    if (item.position.left) posStyle.push(`left: ${item.position.left}`);
                    if (item.position.right) posStyle.push(`right: ${item.position.right}`);
                    const transform = item.rotation ? `transform: rotate(${item.rotation})` : '';

                    return `
                        <div class="floating-item size-${item.size}" 
                             style="${posStyle.join('; ')}; ${transform}"
                             onclick="openFloatingModal('${item.id}')"
                             data-item-id="${item.id}">
                            <img src="${item.thumbnail}" alt="${item.title}" draggable="false">
                        </div>
                    `;
                }).join('');
            }

            // Generate location tags HTML
            function generateLocationTagsHTML(locations) {
                if (!locations || !locations.length) return '';
                return locations.map(loc => {
                    const icon = loc.icon === 'location'
                        ? '<svg viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" /></svg>'
                        : '<svg viewBox="0 0 24 24" fill="currentColor"><path d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z" /><path d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z" /></svg>';
                    return `<span class="location-tag">${icon} ${loc.text}</span>`;
                }).join('');
            }

            // 2. Render Tabs Content with NEW landing section in first tab
            tabsContainer.style.width = `${videosData.tabs.length * 100}vw`;
            tabsContainer.innerHTML = videosData.tabs.map((tab, tabIndex) => `
                <div class="tab-content" id="tab-${tab.id}">
                    <div class="video-container">
                        ${tabIndex === 0 ? `
                        <!-- NEW LANDING SECTION -->
                        <div class="landing-section active" data-bg-color="${landing.bgColor || '#2d1b4e'}">
                            <!-- Profile Info - Left Side -->
                            <div class="landing-profile-info">
                                <p class="landing-bio">${landing.bio || ''}</p>
                                <h1 class="landing-name">${landing.name || 'Vibhore Singhal'}</h1>
                                <div class="landing-locations">
                                    ${generateLocationTagsHTML(landing.locations)}
                                </div>
                            </div>

                            <!-- Central Video Frame -->
                            <div class="landing-video-frame" onclick="toggleVideo('landing-video')">
                                <video id="landing-video" src="${landing.profileVideo || ''}" muted loop playsinline></video>
                                <div class="play-overlay-btn" id="btn-landing-video">
                                    <svg viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z" clip-rule="evenodd" /></svg>
                                </div>
                                <span class="video-time">1:00</span>
                            </div>

                            <!-- Floating Items -->
                            ${generateFloatingItemsHTML(floatingItems)}

                            <!-- Decorative Stickers -->
                            <div class="landing-sticker star" style="top: 8%; left: 5%; width: 80px; height: 80px;">
                                <svg viewBox="0 0 100 100" fill="currentColor">
                                    <polygon points="50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35"/>
                                </svg>
                            </div>
                            <div class="landing-sticker heart" style="top: 12%; right: 32%; width: 50px; height: 50px;">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z" />
                                </svg>
                            </div>
                            <div class="landing-sticker plus" style="bottom: 35%; left: 35%; width: 40px; height: 40px;">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <div class="landing-sticker sparkle" style="bottom: 25%; right: 5%; width: 35px; height: 35px;">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path fill-rule="evenodd" d="M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813a3.75 3.75 0 002.576-2.576l.813-2.846A.75.75 0 019 4.5z" clip-rule="evenodd" />
                                </svg>
                            </div>

                            <!-- Bottom Toggle Element -->
                            <div class="landing-toggle">
                                <div class="toggle-line"></div>
                                <div class="toggle-circle"></div>
                            </div>

                            <!-- Scroll Indicator -->
                            <div class="landing-scroll-indicator" onclick="scrollToFirstVideo()">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z" clip-rule="evenodd" />
                                </svg>
                            </div>
                        </div>
                        ` : ''}

                        ${tabIndex === 0 ? `
                        <!-- Grid Section (for Tab 0: after landing, before videos - accessed via Zeta tab click) -->
                        <div class="grid-section" data-bg-color="${tab.videos[0].bgColor}" style="min-height: 100vh; position: relative; z-index: 1; padding-top: 90px;">
                            <div class="grid-container">
                                ${tab.videos.map((video, vIndex) => `
                                    <div class="grid-item" onclick="goToVideo(${vIndex + 1}, ${tabIndex})">
                                        <img src="${video.thumbnail || 'https://placehold.co/360x640/png?text=Thumbnail'}" style="width: 100%; height: 100%; object-fit: cover;" draggable="false" />
                                        <span class="video-number">${vIndex + 1}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Video Sections (for Tab 0: after grid) -->
            ${tab.videos.map(video => `
                            <div class="video-section video-section-r2 ${video.isLandscape ? 'landscape-mode' : ''}" data-video-id="${video.id}" data-bg-color="${video.bgColor}">
                                
                                <!-- New Left Content: Title & Desc -->
                                <div class="content-info-left">
                                    ${video.description ? `<p class="content-desc">${video.description}</p>` : ''}
                                    ${video.title ? `<h2 class="content-title">${video.title}</h2>` : ''}
                                    ${video.link ? `<a class="content-link" href="${video.link.url}" target="_blank" rel="noopener noreferrer">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path fill-rule="evenodd" d="M19.902 4.098a3.75 3.75 0 00-5.304 0l-4.5 4.5a3.75 3.75 0 001.035 6.037.75.75 0 01-.646 1.353 5.25 5.25 0 01-1.449-8.45l4.5-4.5a5.25 5.25 0 117.424 7.424l-1.757 1.757a.75.75 0 11-1.06-1.06l1.757-1.757a3.75 3.75 0 000-5.304zm-7.389 4.267a.75.75 0 011-.353 5.25 5.25 0 011.449 8.45l-4.5 4.5a5.25 5.25 0 11-7.424-7.424l1.757-1.757a.75.75 0 111.06 1.06l-1.757 1.757a3.75 3.75 0 105.304 5.304l4.5-4.5a3.75 3.75 0 00-1.035-6.037.75.75 0 01-.354-1z" clip-rule="evenodd" />
                                        </svg>
                                        ${video.link.text}
                                    </a>` : ''}
                                </div>

                                <div class="sticker sticker-star" style="color: #FFD700; width: 60px; height: 60px;">
                                    <svg viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <div class="sticker sticker-heart" style="color: #FF8800; width: 50px; height: 50px;">
                                    <svg viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z" />
                                    </svg>
                                </div>
                                <div class="sticker sticker-sparkle" style="color: #FFD700; width: 40px; height: 40px;">
                                    <svg viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813a3.75 3.75 0 002.576-2.576l.813-2.846A.75.75 0 019 4.5zM1.5 6a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 011.5 6zm2.25 10.5a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm13.5-9a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm2.25 10.5a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75z" clip-rule="evenodd" />
                                    </svg>
                                </div>

                                <div class="video-frame" onclick="toggleVideo('${video.id}')">
                                    <video id="${video.id}" src="${video.src}" muted playsinline preload="metadata" onended="scrollToNextVideo(this)"></video>
                                    <div class="play-overlay-btn" id="btn-${video.id}">
                                         <svg viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z" clip-rule="evenodd" /></svg>
                                    </div>
                                </div>

                                <!-- New Right Content: Comments bubbles -->
                                <div class="content-info-right">
                                    ${video.comments ? video.comments.map(comment => `
                                        <div class="comment-pill">
                                            <div class="comment-icon" style="background: ${comment.type === 'avatar' ? (comment.avatarColor || '#3498db') : 'rgba(255,255,255,0.2)'}; color: white;">
                                                ${comment.type === 'heart' ? '<svg viewBox="0 0 24 24" fill="currentColor" style="width: 18px; height: 18px;"><path d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z" /></svg>' : (comment.type === 'fire' ? '<svg viewBox="0 0 24 24" fill="currentColor" style="width: 18px; height: 18px;"><path fill-rule="evenodd" d="M12.963 2.286a.75.75 0 00-1.071-.136 9.742 9.742 0 00-3.539 6.177 7.547 7.547 0 01-1.705-1.715.75.75 0 00-1.152-.082A9 9 0 1015.68 4.534a7.46 7.46 0 01-2.717-2.248zM15.75 14.25a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" /></svg>' : '')}
                                            </div>
                                            <span>${comment.text}</span>
                                        </div>
                                    `).join('') : ''}
                                </div>

                            </div>
                        `).join('')}
                        ` : `
                        <!-- Grid Section (for other tabs: at the start) -->
                        <div class="grid-section active" data-bg-color="${tab.videos[0].bgColor}" style="min-height: 100vh; position: relative; z-index: 1; padding-top: 90px;">
                            <div class="grid-container">
                                ${tab.videos.map((video, vIndex) => `
                                    <div class="grid-item" onclick="goToVideo(${vIndex + 1}, ${tabIndex})">
                                        <img src="${video.thumbnail || 'https://placehold.co/360x640/png?text=Thumbnail'}" style="width: 100%; height: 100%; object-fit: cover;" draggable="false" />
                                        <span class="video-number">${vIndex + 1}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Video Sections (for other tabs) -->
            ${tab.videos.map(video => `
                            <div class="video-section video-section-r2 ${video.isLandscape ? 'landscape-mode' : ''}" data-video-id="${video.id}" data-bg-color="${video.bgColor}">
                                
                                <!-- New Left Content: Title & Desc -->
                                <div class="content-info-left">
                                    ${video.description ? `<p class="content-desc">${video.description}</p>` : ''}
                                    ${video.title ? `<h2 class="content-title">${video.title}</h2>` : ''}
                                    ${video.link ? `<a class="content-link" href="${video.link.url}" target="_blank" rel="noopener noreferrer">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path fill-rule="evenodd" d="M19.902 4.098a3.75 3.75 0 00-5.304 0l-4.5 4.5a3.75 3.75 0 001.035 6.037.75.75 0 01-.646 1.353 5.25 5.25 0 01-1.449-8.45l4.5-4.5a5.25 5.25 0 117.424 7.424l-1.757 1.757a.75.75 0 11-1.06-1.06l1.757-1.757a3.75 3.75 0 000-5.304zm-7.389 4.267a.75.75 0 011-.353 5.25 5.25 0 011.449 8.45l-4.5 4.5a5.25 5.25 0 11-7.424-7.424l1.757-1.757a.75.75 0 111.06 1.06l-1.757 1.757a3.75 3.75 0 105.304 5.304l4.5-4.5a3.75 3.75 0 00-1.035-6.037.75.75 0 01-.354-1z" clip-rule="evenodd" />
                                        </svg>
                                        ${video.link.text}
                                    </a>` : ''}
                                </div>

                                <div class="sticker sticker-star" style="color: #FFD700; width: 60px; height: 60px;">
                                    <svg viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <div class="sticker sticker-heart" style="color: #FF8800; width: 50px; height: 50px;">
                                    <svg viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z" />
                                    </svg>
                                </div>
                                <div class="sticker sticker-sparkle" style="color: #FFD700; width: 40px; height: 40px;">
                                    <svg viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813a3.75 3.75 0 002.576-2.576l.813-2.846A.75.75 0 019 4.5zM1.5 6a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 011.5 6zm2.25 10.5a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm13.5-9a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zm2.25 10.5a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75z" clip-rule="evenodd" />
                                    </svg>
                                </div>

                                <div class="video-frame" onclick="toggleVideo('${video.id}')">
                                    <video id="${video.id}" src="${video.src}" muted playsinline preload="metadata" onended="scrollToNextVideo(this)"></video>
                                    <div class="play-overlay-btn" id="btn-${video.id}">
                                         <svg viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z" clip-rule="evenodd" /></svg>
                                    </div>
                                </div>

                                <!-- New Right Content: Comments bubbles -->
                                <div class="content-info-right">
                                    ${video.comments ? video.comments.map(comment => `
                                        <div class="comment-pill">
                                            <div class="comment-icon" style="background: ${comment.type === 'avatar' ? (comment.avatarColor || '#3498db') : 'rgba(255,255,255,0.2)'}; color: white;">
                                                ${comment.type === 'heart' ? '<svg viewBox="0 0 24 24" fill="currentColor" style="width: 18px; height: 18px;"><path d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z" /></svg>' : (comment.type === 'fire' ? '<svg viewBox="0 0 24 24" fill="currentColor" style="width: 18px; height: 18px;"><path fill-rule="evenodd" d="M12.963 2.286a.75.75 0 00-1.071-.136 9.742 9.742 0 00-3.539 6.177 7.547 7.547 0 01-1.705-1.715.75.75 0 00-1.152-.082A9 9 0 1015.68 4.534a7.46 7.46 0 01-2.717-2.248zM15.75 14.25a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" /></svg>' : '')}
                                            </div>
                                            <span>${comment.text}</span>
                                        </div>
                                    `).join('') : ''}
                                </div>

                            </div>
                        `).join('')}
                        `}
                    </div>
                </div>
            `).join('');

            // NOTE: We no longer inject a separate flow nav into Tab 0
            // Instead, we use the global fixed nav for all tabs to avoid
            // double nav bar issues during tab transitions

            // Initialize background with hero's purple color
            bgLayer.style.backgroundColor = '#2d1b4e';

            // Initialize Observer
            initObserver();

            document.querySelectorAll('.video-container').forEach(container => {
                container.addEventListener('scroll', handleScroll);
            });

            // Initial sync for first tab
            const firstContainer = document.querySelector('#tab-zeta .video-container');
            if (firstContainer) {
                handleScroll({ target: firstContainer });
            }
        }

        // Intersection Observer logic (for landing, grid and video sections within tabs)
        function initObserver() {
            observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const parentTab = entry.target.closest('.tab-content');
                    if (!parentTab) return; // Skip if not in a tab (e.g., shared hero)

                    // Find index of parent tab
                    const parentTabIndex = Array.from(tabsContainer.children).indexOf(parentTab);

                    if (parentTabIndex !== currentTab) return;

                    if (entry.isIntersecting) {
                        // Set Active Class
                        entry.target.classList.add('active');

                        // Set Background Color
                        const bgColor = entry.target.getAttribute('data-bg-color');
                        if (bgColor) bgLayer.style.backgroundColor = bgColor;

                        // Identify section type
                        const isLanding = entry.target.classList.contains('landing-section');
                        const isGrid = entry.target.classList.contains('grid-section');
                        const isVideo = entry.target.classList.contains('video-section');
                        const logoBtn = document.getElementById('logoBtn');

                        // Navbar always visible and at top
                        if (globalTabs) {
                            globalTabs.classList.remove('hidden');
                            globalTabs.classList.remove('landing-position');
                        }

                        if (isLanding) {
                            // Landing section: show controls, VS button active, play landing video
                            gridBtn.classList.add('hidden');
                            controlBar.classList.remove('hidden'); // Show control bar for landing video

                            // VS button active state
                            if (logoBtn) {
                                logoBtn.classList.add('active');
                            }

                            // Deactivate all tab buttons (VS is the "active" one)
                            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));

                            // Play landing video
                            playVideo('landing-video');
                        } else if (isGrid) {
                            // Hide grid button and control bar
                            gridBtn.classList.add('hidden');
                            controlBar.classList.add('hidden');

                            // VS button not active
                            if (logoBtn) logoBtn.classList.remove('active');

                            // Set first tab as active when on grid (for tab 0)
                            if (parentTabIndex === 0) {
                                document.querySelectorAll('.tab-btn').forEach((btn, idx) => {
                                    btn.classList.toggle('active', idx === 0);
                                });
                            }
                        } else if (isVideo) {
                            gridBtn.classList.remove('hidden');
                            controlBar.classList.remove('hidden');

                            // VS button not active
                            if (logoBtn) logoBtn.classList.remove('active');

                            // Set appropriate tab as active
                            document.querySelectorAll('.tab-btn').forEach((btn, idx) => {
                                btn.classList.toggle('active', idx === parentTabIndex);
                            });

                            // Play Video
                            const videoId = entry.target.getAttribute('data-video-id');
                            playVideo(videoId);
                        }
                    } else {
                        entry.target.classList.remove('active');
                        // Pause Video if it's a video section or landing section
                        if (entry.target.classList.contains('video-section')) {
                            const videoId = entry.target.getAttribute('data-video-id');
                            pauseVideo(videoId);
                        }
                        if (entry.target.classList.contains('landing-section')) {
                            pauseVideo('landing-video');
                        }
                    }
                });
            }, { threshold: 0.5 });

            // Observe all section types
            document.querySelectorAll('.landing-section, .grid-section, .video-section').forEach(section => {
                observer.observe(section);
            });
        }

        // --- Video Control Functions ---

        function playVideo(videoId) {
            const video = document.getElementById(videoId);
            if (!video) return;

            currentVideoId = videoId;
            isPlaying = true;

            // Update icons
            document.getElementById('pauseIcon').style.display = 'block';
            document.getElementById('playIcon').style.display = 'none';

            video.currentTime = 0;
            video.play().catch(e => console.log('Autoplay blocked:', e));

            video.muted = isMuted;

            // Update overlay button
            const btn = document.getElementById('btn-' + videoId);
            if (btn) {
                if (videoId === 'landing-video') {
                    btn.classList.add('playing'); // Hide button when playing
                } else {
                    btn.classList.remove('paused');
                }
            }
        }

        function pauseVideo(videoId) {
            const video = document.getElementById(videoId);
            if (!video) return;

            video.pause();
            // Don't show play button for system-initiated pauses (scrolling away)
            // Only show if it was previously user-paused
        }

        function scrollToNextVideo(videoEl) {
            const currentSection = videoEl.closest('.video-section');
            const nextSection = currentSection.nextElementSibling;

            if (nextSection && nextSection.classList.contains('video-section')) {
                nextSection.scrollIntoView({ behavior: 'smooth' });
            } else {
                // If it's the last video, maybe loop back to grid? Or just stop.
                // For now, let's stop.
                toggleVideo(videoEl.id); // Show play button again
            }
        }

        function toggleVideo(videoId) {
            const video = document.getElementById(videoId);
            const btn = document.getElementById('btn-' + videoId);
            if (!video) return;

            const isLandingVideo = videoId === 'landing-video';

            if (video.paused) {
                video.play();
                if (btn) {
                    if (isLandingVideo) {
                        btn.classList.add('playing'); // Hide button when playing
                    } else {
                        btn.classList.remove('paused');
                    }
                }
                userPaused[videoId] = false; // User resumed
                isPlaying = true;
                document.getElementById('pauseIcon').style.display = 'block';
                document.getElementById('playIcon').style.display = 'none';
            } else {
                video.pause();
                if (btn) {
                    if (isLandingVideo) {
                        btn.classList.remove('playing'); // Show button when paused
                    } else {
                        btn.classList.add('paused');
                    }
                }
                userPaused[videoId] = true; // User explicitly paused
                isPlaying = false;
                document.getElementById('pauseIcon').style.display = 'none';
                document.getElementById('playIcon').style.display = 'block';
            }
        }

        function togglePlayStop() {
            if (!currentVideoId) return;
            toggleVideo(currentVideoId);
        }

        function toggleSound() {
            isMuted = !isMuted;
            updateMuteUI();

            if (currentVideoId) {
                const video = document.getElementById(currentVideoId);
                if (video) video.muted = isMuted;
            }
        }

        function updateMuteUI() {
            const mutedIcon = document.getElementById('mutedIcon');
            const unmutedIcon = document.getElementById('unmutedIcon');
            const btnText = document.getElementById('soundBtnText');

            if (isMuted) {
                mutedIcon.style.display = 'block';
                unmutedIcon.style.display = 'none';
                btnText.textContent = 'Unmute';
            } else {
                mutedIcon.style.display = 'none';
                unmutedIcon.style.display = 'block';
                btnText.textContent = 'Mute';
            }
        }

        // --- Floating Item Modal Functions ---

        function openFloatingModal(itemId) {
            const landing = videosData.landingSection;
            if (!landing || !landing.floatingItems) return;

            const item = landing.floatingItems.find(i => i.id === itemId);
            if (!item) return;

            const modal = document.getElementById('floatingModal');
            const image = document.getElementById('floatingModalImage');
            const title = document.getElementById('floatingModalTitle');
            const description = document.getElementById('floatingModalDescription');

            image.src = item.src;
            image.alt = item.title;
            title.textContent = item.title;
            description.textContent = item.description;

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeFloatingModal() {
            const modal = document.getElementById('floatingModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close modal on overlay click
        document.getElementById('floatingModal')?.addEventListener('click', (e) => {
            if (e.target.classList.contains('floating-modal-overlay')) {
                closeFloatingModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeFloatingModal();
            }
        });

        // Scroll to first video from landing section
        function scrollToFirstVideo() {
            const zetaTab = document.getElementById('tab-zeta');
            if (!zetaTab) return;

            const container = zetaTab.querySelector('.video-container');
            const firstVideoSection = zetaTab.querySelector('.video-section');

            if (container && firstVideoSection) {
                // Temporarily disable scroll-snap
                const originalSnap = container.style.scrollSnapType;
                container.style.scrollSnapType = 'none';

                firstVideoSection.scrollIntoView({ behavior: 'smooth' });

                // Update UI - deactivate VS button, activate Zeta tab
                const logoBtn = document.getElementById('logoBtn');
                if (logoBtn) logoBtn.classList.remove('active');
                document.querySelectorAll('.tab-btn').forEach((btn, idx) => {
                    btn.classList.toggle('active', idx === 0);
                });

                // Restore scroll-snap after animation
                setTimeout(() => {
                    container.style.scrollSnapType = originalSnap || '';
                    if (!container.style.scrollSnapType) container.style.removeProperty('scroll-snap-type');
                }, 800);
            }
        }

        // --- Navigation Functions ---

        // Navigate to the landing/profile section (top of Tab 0)
        function goToLanding() {
            // Pause current video
            if (currentVideoId) {
                pauseVideo(currentVideoId);
            }

            // If not on tab 0, switch to it first
            if (currentTab !== 0) {
                // Slide to tab 0
                tabsContainer.style.transform = 'translateX(0)';
                currentTab = 0;

                // Update BG
                if (videosData && videosData.landingSection) {
                    bgLayer.style.backgroundColor = videosData.landingSection.bgColor || '#2d1b4e';
                }
            }

            // Update UI - deactivate all tab buttons, activate VS button
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            const logoBtn = document.getElementById('logoBtn');
            if (logoBtn) logoBtn.classList.add('active');

            // Scroll to top of tab 0 (landing/profile section)
            const zetaTab = document.getElementById('tab-zeta');
            if (zetaTab) {
                const container = zetaTab.querySelector('.video-container');
                if (container) {
                    // Temporarily disable scroll-snap for smooth animation
                    const originalSnap = container.style.scrollSnapType;
                    container.style.scrollSnapType = 'none';

                    container.scrollTo({ top: 0, behavior: 'smooth' });

                    // Restore scroll-snap after animation
                    setTimeout(() => {
                        container.style.scrollSnapType = originalSnap || '';
                        if (!container.style.scrollSnapType) container.style.removeProperty('scroll-snap-type');
                    }, 800);
                }
            }
        }

        function switchTab(index) {
            if (index === currentTab) {
                const currentTabId = videosData.tabs[index].id;
                const currentTabEl = document.getElementById(`tab-${currentTabId}`);
                const container = currentTabEl?.querySelector('.video-container');

                if (container) {
                    if (index === 0) {
                        // If already on grid view, do nothing
                        if (isAtTab0GridPosition(container)) {
                            return;
                        }

                        // Pause current video before scrolling
                        if (currentVideoId) {
                            pauseVideo(currentVideoId);
                        }

                        // Scroll to Grid Container in Zeta tab
                        scrollToTab0Grid(container, true);

                        // Force active state on grid section
                        const gridSection = currentTabEl.querySelector('.grid-section');
                        if (gridSection) gridSection.classList.add('active');
                    } else {
                        // For other tabs, scroll to top (where grid is)
                        const gridSection = currentTabEl.querySelector('.grid-section');

                        // Temporarily disable scroll-snap
                        const originalSnap = container.style.scrollSnapType;
                        container.style.scrollSnapType = 'none';

                        container.scrollTo({ top: 0, behavior: 'smooth' });

                        // Restore scroll-snap
                        setTimeout(() => {
                            container.style.scrollSnapType = originalSnap || '';
                            if (!container.style.scrollSnapType) container.style.removeProperty('scroll-snap-type');
                        }, 800);

                        if (gridSection) gridSection.classList.add('active');
                    }
                }
                return;
            }

            // Pause current video
            if (currentVideoId) {
                pauseVideo(currentVideoId);
            }

            // Reset scroll of the tab being left (after transition completes)
            const oldTabData = videosData.tabs[currentTab];
            if (oldTabData) {
                const oldTabId = oldTabData.id;
                setTimeout(() => {
                    const oldTabEl = document.getElementById(`tab-${oldTabId}`);
                    if (oldTabEl) {
                        const oldContainer = oldTabEl.querySelector('.video-container');
                        if (oldContainer) oldContainer.scrollTop = 0;
                    }
                }, 550); // Wait for transition (500ms) + small buffer
            }

            // Update UI - tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                const btnIndex = parseInt(btn.getAttribute('data-index'));
                btn.classList.toggle('active', btnIndex === index);
            });

            // Slide content
            tabsContainer.style.transform = `translateX(-${index * 100}vw)`;

            // Update state
            currentTab = index;

            // Update BG to the grid of new tab
            if (videosData && videosData.tabs[index]) {
                bgLayer.style.backgroundColor = videosData.tabs[index].videos[0].bgColor;
            }

            // Update Navbar Position immediately for the new tab
            const newTab = document.getElementById(`tab-${videosData.tabs[index].id}`);
            if (newTab) {
                const container = newTab.querySelector('.video-container');
                if (container) {
                    handleScroll({ target: container });
                }
            }

            // Scroll new tab to grid (index 0, grid is now first)
            if (newTab) {
                const container = newTab.querySelector('.video-container');
                if (container) {
                    if (index === 0) {
                        // Switching TO Zeta Tab: Auto-scroll to Grid View (skip profile)
                        // Use scrollIntoView for consistent positioning with scroll-snap
                        scrollToTab0Grid(container, false); // instant, no smooth

                        // Force active state immediately
                        const gridSection = newTab.querySelector('.grid-section');
                        if (gridSection) gridSection.classList.add('active');
                    } else {
                        // Other tabs: Scroll to absolute top
                        container.scrollTop = 0;

                        // Force active state immediately
                        const gridSection = newTab.querySelector('.grid-section');
                        if (gridSection) gridSection.classList.add('active');
                    }
                }
            }
        }

        function goToVideo(index, tabIndex) {
            if (tabIndex !== undefined && tabIndex !== currentTab) {
                switchTab(tabIndex);
                setTimeout(() => scrollToVideo(index, tabIndex), 500); // wait for slide
            } else {
                scrollToVideo(index, currentTab);
            }
        }

        function scrollToVideo(index, tabIdx) {
            const tabData = videosData.tabs[tabIdx];
            if (!tabData) return;

            const tabEl = document.getElementById(`tab-${tabData.id}`);
            const container = tabEl.querySelector('.video-container');
            // Ensure we select grid section first, then videos
            const sections = Array.from(tabEl.querySelectorAll('.grid-section, .video-section'));
            // Default querySelectorAll returns in document order (Grid is first)

            if (sections[index] && container) {
                // Calculate exact scroll position
                const rect = sections[index].getBoundingClientRect();
                const containerRect = container.getBoundingClientRect();
                const targetTop = rect.top + container.scrollTop - containerRect.top;

                // Temporarily disable scroll-snap to allow smooth animation
                const originalSnapType = container.style.scrollSnapType;
                container.style.scrollSnapType = 'none';

                container.scrollTo({
                    top: targetTop,
                    behavior: 'smooth'
                });

                // Restore scroll-snap after animation (approx 800ms)
                setTimeout(() => {
                    container.style.scrollSnapType = originalSnapType || '';
                    // Re-apply explicit Snap Type if it was empty (from CSS class)
                    if (!container.style.scrollSnapType) {
                        container.style.removeProperty('scroll-snap-type');
                    }
                }, 800);
            }
        }

        let scrollTimeout;
        function handleScroll(e) {
            // Navbar is now always fixed at top - minimal scroll handling
            // The intersection observer handles most state changes
        }

        // Keyboard Navigation
        // Unified Navigation Logic
        function navigate(direction) {
            if (isScrolling) return;

            const tabData = videosData.tabs[currentTab];
            const tabEl = document.getElementById(`tab-${tabData.id}`);
            const container = tabEl.querySelector('.video-container');
            const sectionHeight = window.innerHeight;

            // Calculate current index based on scroll position
            let currentScrollIndex = Math.round(container.scrollTop / sectionHeight);
            const totalSections = tabData.videos.length + 1; // +1 for grid

            let newIndex = currentScrollIndex + direction;

            // Boundary checks
            if (newIndex >= 0 && newIndex < totalSections) {
                isScrolling = true;
                scrollToVideo(newIndex, currentTab);

                // Cooldown to prevent rapid scrolling/double jumps
                // Match this roughly with the CSS scroll duration
                setTimeout(() => {
                    isScrolling = false;
                }, 800);
            }
        }

        // Block horizontal scroll on trackpad to prevent visual glitches
        // (Tab switching on desktop only via clicking tab buttons)
        document.addEventListener('wheel', (e) => {
            if (Math.abs(e.deltaX) > Math.abs(e.deltaY) && Math.abs(e.deltaX) > 3) {
                e.preventDefault();
            }
        }, { passive: false });

        // Keyboard Navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
                navigate(1);
            } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                navigate(-1);
            }
        });

        // Touch Swipe for Tab Switching (mobile)
        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;
        let touchEndY = 0;
        const minSwipeDistance = 80; // Minimum swipe distance in pixels

        function isOnGridOrHero() {
            const mainScroll = document.getElementById('mainScroll');
            const isOnHero = mainScroll && mainScroll.scrollTop < window.innerHeight * 0.5;

            if (isOnHero) return true;

            const tabData = videosData.tabs[currentTab];
            const tabEl = document.getElementById(`tab-${tabData.id}`);
            const container = tabEl.querySelector('.video-container');
            // If scrollTop is near 0, user is on the grid section
            return container && container.scrollTop < window.innerHeight * 0.3;
        }

        function handleSwipeGesture() {
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;

            // Only process horizontal swipes (deltaX > deltaY) and when on grid or hero
            if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > minSwipeDistance) {
                if (!isOnGridOrHero()) return;

                if (deltaX < 0) {
                    // Swipe left -> next tab
                    if (currentTab < videosData.tabs.length - 1) {
                        switchTab(currentTab + 1);
                    }
                } else {
                    // Swipe right -> previous tab
                    if (currentTab > 0) {
                        switchTab(currentTab - 1);
                    }
                }
            }
        }

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
        }, { passive: true });

        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            touchEndY = e.changedTouches[0].screenY;
            handleSwipeGesture();
        }, { passive: true });

        // Initialize
        initApp();

    </script>
</body>

</html>